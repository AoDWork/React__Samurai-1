{"version":3,"sources":["Components/redux/dialogs-reducer.js","assets/images/user.jpg","Components/Users/Users.module.css","assets/images/preloader.svg","Components/common/FormControls/FormControls.js","Components/Navbar/Navbar.module.css","serviceWorker.js","Components/redux/sidebar-reducer.js","utils/object-helpers.js","Components/redux/users-reducer.js","Components/redux/auth-reducer.js","Components/redux/app-reducer.js","Components/redux/redux-store.js","Components/Navbar/Navbar.jsx","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","Components/common/Paginator/Paginator.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","Components/redux/users-selectors.js","Components/Users/UsersContainer.jsx","Components/Login/Login.jsx","hoc/withSuspense.js","App.js","index.js","Components/common/FormControls/FormControls.module.css","Components/common/preloader/Preloader.jsx","utils/validators/validators.js","Components/common/Paginator/Paginator.module.css","Components/Header/Header.module.css","api/api.js","Components/redux/profile-reducer.js"],"names":["InitialState","dialogsData","id","name","messagesData","msg","sendMsgCreator","newMsgBody","type","dialogsReducer","state","arguments","length","undefined","action","_objectSpread","concat","Object","F_Obychenie_My_Projects_React_Samurai_1_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","module","exports","__webpack_require__","p","userPhoto","FormControl","_ref","input","_ref$meta","meta","touched","error","children","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","styles","formControl","Textarea","props","restProps","child","F_Obychenie_My_Projects_React_Samurai_1_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","assign","Input","createField","placeholder","validators","component","text","redux_form__WEBPACK_IMPORTED_MODULE_2__","validate","nav","item","active","Boolean","window","location","hostname","match","initialState","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","usersData","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","_ref2","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","apiMethod","actionCeator","wrap","_context2","prev","next","sent","data","resultCode","stop","_x2","_x3","_x4","_x5","apply","this","usersReducer","users_reducer_objectSpread","followed","users","count","toConsumableArray","filter","email","login","isAuth","captchaUrl","setAuthUserData","payload","setCaptchaUrlSuccess","getAuthUserData","_callee","response","_response$data$data","_login","_context","authAPI","me","_x","getCaptchaUrl","_ref3","_callee3","_context3","securityAPI","url","authReducer","auth_reducer_objectSpread","initialized","appReducer","app_reducer_objectSpread","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","app","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","react_default","s","NavLink","to","Header","style","header","src","loginBlock","onClick","logout","HeaderContainer","Components_Header_Header","React","Component","connect","_ref4","_callee4","_context4","Paginator","totalItemsCount","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","page","cn","defineProperty","selectedPage","pageNumber","e","key","User","user","unfollow","follow","photos","small","disabled","some","status","Users","objectWithoutProperties","common_Paginator_Paginator","Users_User","getUsers","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","_this","_this$props","Fragment","Preloader","Components_Users_Users","usersAPI","bind","_x6","_x7","totalCount","LoginReduxForm","reduxForm","handleSubmit","onSubmit","loginText","required","summaryError","password","rememberMe","captcha","message","messages","stopSubmit","_error","Redirect","formData","withSuspense","Suspense","fallback","DialogsContainer","lazy","then","ProfileContainer","App","initializeApp","Header_HeaderContainer","Components_Navbar_Navbar","Switch","Route","exact","path","render","Users_UsersContainer","Components_Login_Login","AppContainer","withRouter","promise","Promise","all","SamuraiApp","HashRouter","react_redux_es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_images_preloader_svg__WEBPACK_IMPORTED_MODULE_1__","_assets_images_preloader_svg__WEBPACK_IMPORTED_MODULE_1___default","preloader","d","__webpack_exports__","maxLengthCreator","value","maxLength","profileAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","withCredentials","baseURL","headers","API-KEY","get","post","delete","getProfile","console","log","getStatus","updateStatus","put","savePhoto","photoFile","FormData","append","Content-Type","saveProfile","profile","postsData","likesCount","userProfile","addPostActionCreator","newPostText","setStatus","getUserProfile","F_Obychenie_My_Projects_React_Samurai_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","F_Obychenie_My_Projects_React_Samurai_1_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","getUserStatus","updateUserStatus","file","_ref5","_callee5","getState","_context5","abrupt","reject","newPost","F_Obychenie_My_Projects_React_Samurai_1_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","el","postId"],"mappings":"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","file":"static/js/main.abd81930.chunk.js","sourcesContent":["const SEND_MSG = 'SEND_MSG';\r\n\r\nlet InitialState = {\r\n    dialogsData: [\r\n        { id: 1, name: \"Dmitriy\" },\r\n        { id: 2, name: \"Andrey\" },\r\n        { id: 3, name: \"Valera\" },\r\n        { id: 4, name: \"Sveta\" },\r\n        { id: 5, name: \"Viktor\" }],\r\n    messagesData: [\r\n        { id: 1, msg: \"Hi\" },\r\n        { id: 2, msg: \"Yo\" },\r\n        { id: 3, msg: \"What's up?\" },\r\n        { id: 4, msg: \"Hi\" },\r\n        { id: 5, msg: \"Yo\" }]\r\n}\r\n\r\nconst dialogsReducer = (state = InitialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case SEND_MSG:\r\n            let msg =  action.newMsgBody;\r\n            return {\r\n                ...state,\r\n                messagesData:  [...state.messagesData, { id: 6, msg} ] \r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMsgCreator = (newMsgBody) => ({ type: SEND_MSG, newMsgBody })\r\n\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/user.62387d2a.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__143Ok\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.b08921bf.svg\";","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport styles from \"./FormControls.module.css\"\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n)\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3EAM7\",\"item\":\"Navbar_item__1IjNs\",\"active\":\"Navbar_active__3p8YV\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../../api/api\";\r\nimport { updateObjectInArray } from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'TOGGLE_FOLLOWING_IN_PROGRESS';\r\n\r\n\r\nlet InitialState = {\r\n    usersData: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = InitialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.userId, \"id\", { followed: true })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.userId, \"id\", { followed: false })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return { ...state, usersData: action.users }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.count }\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return { ...state, isFetching: action.isFetching }\r\n\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({ type: TOGGLE_FOLLOWING_IN_PROGRESS, isFetching, userId })\r\n\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(currentPage));\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCeator) => {\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCeator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","import { authAPI, securityAPI } from \"../../api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_AUTH_USER_DATA,\r\n    payload: { userId, email, login, isAuth }\r\n});\r\n\r\nexport const setCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: { captchaUrl }\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n\r\n    dispatch(setCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default authReducer;","import { authAPI } from \"../../api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\nimport { getAuthUserData } from './auth-reducer'\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, createStore, compose, combineReducers} from 'redux';\r\nimport  profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer from './app-reducer';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer, \r\n    form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n//window.store = __store__\r\n\r\nexport default store;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\"\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n    return  <nav className={s.nav}>\r\n        <ul>\r\n            <li className={s.item}><NavLink to='/profile'>Profile</NavLink></li>\r\n            <li className={s.item}><NavLink to='/dialogs'>Messages/Dialogs</NavLink></li>\r\n            <li className={s.item}><NavLink to='/users'>Users</NavLink></li><br />\r\n            <li className={s.item}><NavLink to=\"#\">News</NavLink></li>\r\n            <li className={s.item}><NavLink to=\"#\">Music</NavLink></li><br />\r\n            <li className={s.item}><NavLink to=\"#\">Settings</NavLink></li>\r\n            {/* <li className={s.item}><NavLink activeClassName={s.active} to=\"#\">Settings</NavLink></li> */}\r\n        </ul>\r\n    </nav>\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport style from './Header.module.css'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={style.header}>\r\n            <img src=\"https://th.bing.com/th/id/OIP.PBVmERenoA81uh26kHU04QHaHa?pid=ImgDet&rs=1\" />\r\n            <div className={style.loginBlock}>\r\n                { props.isAuth \r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log Out</button> </div>\r\n                    : <NavLink to={ '/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux';\r\nimport { logout } from \"../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}>{\"<- PREVIOS\"}</button>}\r\n\r\n        {pages\r\n            .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n            .map(page => {\r\n                // return <span className={currentPage === page && styles.selectedPage}\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === page\r\n                }, styles.pageNumber)}\r\n                    onClick={(e) => { onPageChanged(page); }} key={page} >{page}</span>\r\n            })}\r\n\r\n        {portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>{\"NEXT ->\"}</button>}\r\n    </div>\r\n}\r\n\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.jpg'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small !== null ? user.photos.small : userPhoto} className={styles.userPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => { unfollow(user.id) }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => { follow(user.id) }}>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'user.location.country'}</div>\r\n                    <div>{'user.location.city'}</div>\r\n                </span>\r\n            </span>\r\n        </div>)\r\n}\r\n\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\nlet Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props }) => {\r\n    return <div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n            totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n\r\n        <div>\r\n            {\r\n                users.map(user => <User user={user}\r\n                                        followingInProgress={props.followingInProgress}\r\n                                        unfollow={props.unfollow}\r\n                                        follow={props.follow}\r\n                                        key={user.id} />)\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\n\r\nconst getUsersData = (state) => {\r\n    return state.usersPage.usersData;\r\n}\r\n\r\nexport const getUsers = createSelector( getUsersData, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingInProgress, requestUsers } from '../redux/users-reducer'\r\nimport Users from './Users'\r\nimport Preloader from '../common/preloader/Preloader'\r\nimport { compose } from 'redux';\r\nimport {\r\n    getCurrentPage, getFollowingInProgress, getIsFetching,\r\n    getPageSize, getTotalUsersCount, getUsers\r\n} from '../redux/users-selectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const { currentPage, pageSize } = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const { pageSize } = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { follow, unfollow, setCurrentPage, toggleFollowingInProgress, getUsers: requestUsers })\r\n)(UsersContainer);\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { createField, Input } from \"../common/FormControls/FormControls\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from \"../common/FormControls/FormControls.module.css\"\r\n\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={style.loginText}>Test: Login - referal2tr@gmail.com, pass - testme123</div>\r\n            {createField('Enter email', \"email\", [required], Input )}\r\n            {createField('Password', \"password\", [required], Input, {type:\"password\"} )}\r\n            {createField(null, \"rememberMe\",  [], Input, {type:\"checkbox\"}, \"remember me\" )}\r\n\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", Input, {}, [required]) }\r\n\r\n\r\n            {error && <div className={style.summaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Log In</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha );\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n\r\n\r\n","import React from 'react';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}","import React, { Component } from \"react\";\r\n\r\nimport store from './Components/redux/redux-store';\r\nimport Navbar from \"./Components/Navbar/Navbar\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport LoginPage from \"./Components/Login/Login\";\r\n\r\nimport { HashRouter, Route, withRouter, Switch, Redirect} from \"react-router-dom\";\r\nimport { connect, Provider } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initializeApp } from './Components/redux/app-reducer';\r\nimport Preloader from \"./Components/common/preloader/Preloader\";\r\nimport { withSuspense } from \"./hoc/withSuspense\";\r\nimport './App.css';\r\n\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./Components/Dialogs/DialogsContainer\"));\r\nconst ProfileContainer = React.lazy(() => import(\"./Components/Profile/ProfileContainer\"));\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer />\r\n                <Navbar />\r\n                <div className='app-wrapper-content'>\r\n                    <Switch>\r\n                        <Route exact path=\"/\" render={ ()=> <Redirect to={\"/profile\"}/>} />\r\n\r\n                        <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n                        <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\r\n\r\n                        <Route path=\"/users\" render={() => <UsersContainer />} />\r\n                        <Route path=\"/login\" render={() => <LoginPage />} />\r\n                        \r\n                        <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapSateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapSateToProps, { initializeApp }))(App);\r\n\r\nconst SamuraiApp = (props) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer />\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default SamuraiApp;","import * as serviceWorker from './serviceWorker';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiApp from \"./App\";\r\n\r\n\r\nReactDOM.render(<SamuraiApp/>, document.getElementById('root'));\r\n\r\n\r\n// API\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginText\":\"FormControls_loginText__zpmeG\",\"error\":\"FormControls_error__1w4G0\",\"summaryError\":\"FormControls_summaryError__1akql\"};","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.svg'\r\n\r\nconst Preloader = (props) => {\r\n    return <>\r\n        <img src={preloader} />\r\n    </>\r\n\r\n}\r\n\r\nexport default Preloader;","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator =(maxLength) => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3FSG2\",\"pageNumber\":\"Paginator_pageNumber__38TAf\",\"selectedPage\":\"Paginator_selectedPage__vv0Bf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2L84f\",\"loginBlock\":\"Header_loginBlock__37Qfu\"};","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: { \"API-KEY\": \"2f9f0e92-3407-40f2-b1ba-580b32ef53d8\" }\r\n});\r\n\r\n//My \"API-KEY\": \"f1cd6b20-7363-436f-93eb-1ec0fb9daa23\"\r\n//Test \"API-KEY\": \"2f9f0e92-3407-40f2-b1ba-580b32ef53d8\"\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            // .then(response => response.data); - в 78 видео этой строки нету\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            // .then(response => response.data); - в 78 видео этой строки нету\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.log('U use old method. Please use profileApi object.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/`+ userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/`+ userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`/profile`, profile );\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}","import { usersAPI, profileAPI } from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet InitialState = {\r\n    postsData: [\r\n        { id: 1, post: \"yo\", likesCount: 12 },\r\n        { id: 2, post: \"It's my fist post.\", likesCount: 11 },\r\n        { id: 3, post: \"0\", likesCount: 50 }],\r\n    userProfile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = InitialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                post: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state, postsData: state.postsData.filter( el => el.id !== action.postId )\r\n            }\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return { ...state, status: action.status };\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return { ...state, userProfile: action.profile };\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return{ ...state, userProfile: { ...state.userProfile, photos: action.photos } }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ( { type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId)); \r\n    } else {\r\n        dispatch(stopSubmit(\"editProfile\", { _error: response.data.messages[0] }));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}